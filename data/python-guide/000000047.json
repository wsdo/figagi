{
	"title": "Python uWSGI 安装配置 | 菜鸟教程",
	"url": "https://www.runoob.com/python3/python-uwsgi.html",
	"html": "菜鸟教程 -- 学的不仅是技术，更是梦想！\n首页 HTML CSS JAVASCRIPT VUE BOOTSTRAP NODEJS PYTHON3 PYTHON2 JAVA C C++ C# GO SQL LINUX JQUERY 本地书签\n Python 3 教程 \nPython3 教程\nPython3 简介\nPython3 环境搭建\nPython3 VScode\nPython3 基础语法\nPython3 基本数据类型\nPython3 数据类型转换\nPython3 解释器\nPython3 注释\nPython3 运算符\nPython3 数字(Number)\nPython3 字符串\nPython3 列表\nPython3 元组\nPython3 字典\nPython3 集合\nPython3 条件控制\nPython3 循环语句\nPython3 编程第一步\nPython3 推导式\nPython3 迭代器与生成器\nPython3 函数\nPython3 lambda\nPython3 数据结构\nPython3 模块\nPython3 输入和输出\nPython3 File\nPython3 OS\nPython3 错误和异常\nPython3 面向对象\nPython3 命名空间/作用域\nPython3 标准库概览\nPython3 实例\nPython 测验\n\n\nPython3 高级教程\nPython3 正则表达式\nPython3 CGI编程\nPython3 MySQL(mysql-connector)\nPython3 MySQL(PyMySQL)\nPython3 网络编程\nPython3 SMTP发送邮件\nPython3 多线程\nPython3 XML 解析\nPython3 JSON\nPython3 日期和时间\nPython3 内置函数\nPython3 MongoDB\nPython3 urllib\n Python uWSGI 安装配置\nPython3 pip\nPython3 operator\nPython math\nPython requests\nPython random\nPython 有用的资源\nPython AI 绘画\nPython statistics\n Python3 urllib\nPython3 pip \nPython uWSGI 安装配置\n\n本文主要介绍如何部署简单的 WSGI 应用和常见的 Web 框架。\n\n以 Ubuntu/Debian 为例，先安装依赖包：\n\napt-get install build-essential python-dev\nPython 安装 uWSGI\n\n1、通过 pip 命令：\n\npip install uwsgi\n\n2、下载安装脚本：\n\ncurl http://uwsgi.it/install | bash -s default /tmp/uwsgi\n\n将 uWSGI 二进制安装到 /tmp/uwsgi ，你可以修改它。\n\n3、源代码安装：\n\nwget http://projects.unbit.it/downloads/uwsgi-latest.tar.gz\ntar zxvf uwsgi-latest.tar.gz\ncd uwsgi-latest\nmake\n\n安装完成后，在当前目录下，你会获得一个 uwsgi 二进制文件。\n\n第一个 WSGI 应用\n\n让我们从一个简单的 \"Hello World\" 开始，创建文件 foobar.py，代码如下：\n\ndef application(env, start_response):\n    start_response('200 OK', [('Content-Type','text/html')])\n    return [b\"Hello World\"]\n\nuWSGI Python 加载器将会搜索的默认函数 application 。\n\n接下来我们启动 uWSGI 来运行一个 HTTP 服务器，将程序部署在HTTP端口 9090 上：\n\nuwsgi --http :9090 --wsgi-file foobar.py\n添加并发和监控\n\n默认情况下，uWSGI 启动一个单一的进程和一个单一的线程。\n\n你可以用 --processes 选项添加更多的进程，或者使用 --threads 选项添加更多的线程 ，也可以两者同时使用。\n\nuwsgi --http :9090 --wsgi-file foobar.py --master --processes 4 --threads 2\n\n以上命令将会生成 4 个进程, 每个进程有 2 个线程。\n\n如果你要执行监控任务，可以使用 stats 子系统，监控的数据格式是 JSON：\n\nuwsgi --http :9090 --wsgi-file foobar.py --master --processes 4 --threads 2 --stats 127.0.0.1:9191\n\n我们可以安装 uwsgitop（类似 Linux top 命令） 来查看监控数据：\n\npip install uwsgitop\n结合 Web 服务器使用\n\n我们可以将 uWSGI 和 Nginx Web 服务器结合使用，实现更高的并发性能。\n\n一个常用的nginx配置如下：\n\nlocation / {\n    include uwsgi_params;\n    uwsgi_pass 127.0.0.1:3031;\n}\n\n以上代码表示使用 nginx 接收的 Web 请求传递给端口为 3031 的 uWSGI 服务来处理。\n\n现在，我们可以生成 uWSGI 来本地使用 uwsgi 协议：\n\nuwsgi --socket 127.0.0.1:3031 --wsgi-file foobar.py --master --processes 4 --threads 2 --stats 127.0.0.1:9191\n\n如果你的 Web 服务器使用 HTTP，那么你必须告诉 uWSGI 本地使用 http 协议 (这与会自己生成一个代理的–http不同):\n\nuwsgi --http-socket 127.0.0.1:3031 --wsgi-file foobar.py --master --processes 4 --threads 2 --stats 127.0.0.1:9191\n部署 Django\n\nDjango 是最常使用的 Python web 框架，假设 Django 项目位于 /home/foobar/myproject:\n\nuwsgi --socket 127.0.0.1:3031 --chdir /home/foobar/myproject/ --wsgi-file myproject/wsgi.py --master --processes 4 --threads 2 --stats 127.0.0.1:9191\n\n--chdir 用于指定项目路径。\n\n我们可以把以上的命令弄成一个 yourfile.ini 配置文件:\n\n[uwsgi]\nsocket = 127.0.0.1:3031\nchdir = /home/foobar/myproject/\nwsgi-file = myproject/wsgi.py\nprocesses = 4\nthreads = 2\nstats = 127.0.0.1:9191\n\n接下来你只需要执行以下命令即可：\n\nuwsgi yourfile.ini\n部署 Flask\n\nFlask 是一个流行的 Python web 框架。\n\n创建文件 myflaskapp.py ，代码如下：\n\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@app.route('/')\ndef index():\n    return \"<span style='color:red'>I am app 1</span>\"\n\n执行以下命令：\n\nuwsgi --socket 127.0.0.1:3031 --wsgi-file myflaskapp.py --callable app --processes 4 --threads 2 --stats 127.0.0.1:9191\n Python3 urllib\nPython3 pip \n 点我分享笔记\n 分类导航\nHTML / CSS\nJavaScript\n服务端\n数据库\n数据分析\n移动端\nXML 教程\nASP.NET\nWeb Service\n开发工具\n网站建设\n\n\nAdvertisement\n反馈/建议\n反馈/建议\n在线实例\n·HTML 实例\n·CSS 实例\n·JavaScript 实例\n·Ajax 实例\n·jQuery 实例\n·XML 实例\n·Java 实例\n字符集&工具\n· HTML 字符集设置\n· HTML ASCII 字符集\n· JS 混淆/加密\n· PNG/JPEG 图片压缩\n· HTML 拾色器\n· JSON 格式化工具\n· 随机数生成器\n最新更新\n· 正则表达式入门教程\n· Python lambda（...\n· Java 注释\n· Bootstrap5 消息...\n· Python 按字母顺...\n· Python 删除字符...\n· git restore 命令\n站点信息\n· 意见反馈\n· 免责声明\n· 关于我们\n· 文章归档\n关注微信\nCopyright © 2013-2023 菜鸟教程  runoob.com All Rights Reserved. 备案号：闽ICP备15012807号-1\n  \nRUNOOB asks for your consent to use your personal data to:\nperm_identity\nPersonalised advertising and content, advertising and content measurement, audience research and services development\ndevices\nStore and/or access information on a device\nexpand_more\nLearn more\n\nYour personal data will be processed and information from your device (cookies, unique identifiers, and other device data) may be stored by, accessed by and shared with 136 TCF vendor(s) and 66 ad partner(s), or used specifically by this site or app.\n\nSome vendors may process your personal data on the basis of legitimate interest, which you can object to by managing your options below. Look for a link at the bottom of this page or in our privacy policy where you can withdraw consent.\n\nConsent\n\nDo not consent\n\nManage options"
}